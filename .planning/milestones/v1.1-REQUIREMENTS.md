# Requirements: Expense Splitter v1.1

**Defined:** 2026-02-22
**Completed:** 2026-02-24
**Core Value:** Users can split a restaurant bill accurately and fairly — handling shared items, tip, and tax — in under a minute.

## Persistence

- [x] **PERS-01**: Current bill auto-saves to localStorage and survives page refresh — *Phase 6, validated*
- [x] **PERS-02**: User can save a completed bill to history with a single tap — *Phase 6, validated*
- [x] **PERS-03**: Stored data migrates gracefully when the app schema changes (schema versioning) — *Phase 6, validated*

## History

- [x] **HIST-01**: App shows a history list when saved splits exist, with date, people names, and total per entry — *Phase 7, validated*
- [x] **HIST-02**: User can tap a saved split to re-open and edit it — *Phase 7, validated*
- [x] **HIST-03**: User can start a new split from the history screen — *Phase 7, validated*
- [x] **HIST-04**: User can delete a saved split with undo within 5 seconds — *Phase 7, validated*

## Payment & UPI

- [x] **PAY-01**: User can enter mobile number and UPI VPA (e.g., alice@ybl) when adding a person — *Phase 8, validated*
- [x] **PAY-02**: Contact details (mobile, UPI VPA) are saved with the person and persist across sessions — *Phase 8, validated*
- [x] **PAY-03**: User can select who paid the bill from the people list — *Phase 8, validated*
- [x] **PAY-04**: Each non-payer person has a "Request via UPI" button that opens a upi:// deep link with pre-filled amount — *Phase 8, validated*
- [x] **PAY-05**: UPI deep link opens PhonePe/GPay/Paytm with correct payee VPA, amount in INR, and transaction note — *Phase 8, validated (code path; human-verified on mobile)*

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| PERS-01 | Phase 6 | Complete |
| PERS-02 | Phase 6 | Complete |
| PERS-03 | Phase 6 | Complete |
| HIST-01 | Phase 7 | Complete |
| HIST-02 | Phase 7 | Complete |
| HIST-03 | Phase 7 | Complete |
| HIST-04 | Phase 7 | Complete |
| PAY-01 | Phase 8 | Complete |
| PAY-02 | Phase 8 | Complete |
| PAY-03 | Phase 8 | Complete |
| PAY-04 | Phase 8 | Complete |
| PAY-05 | Phase 8 | Complete |

**Coverage:** 12/12 requirements mapped and completed.

## Deferred (not in v1.1)

- **SHAR-01**: User can generate a shareable URL with encoded bill state
- **SHAR-02**: User can export bill data as JSON file
- **PERS-04**: User can name a saved split (e.g. "Dinner at Olive Garden")
- **PERS-05**: User can sort history by date or amount

## Out of Scope

| Feature | Reason |
|---------|--------|
| Receipt photo upload / OCR | Complexity too high, 60-80% accuracy on restaurant receipts |
| Venmo/Zelle deep links | Replaced by UPI deep links for Indian market |
| User accounts / authentication | Not needed; client-side only |
| Cloud sync across devices | Requires backend; breaks client-side constraint |
| IndexedDB storage | localStorage sufficient for bill data volume (~5-15 KB per split) |
| Auto-save to history | Explicit save avoids cluttering history with incomplete bills |

---
*Archived: 2026-02-24*
